##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# Example windowrules that are useful

windowrule {
    # Ignore maximize requests from apps. You'll probably like this.
    name = suppress-maximize-events
    match:class = .*

    suppress_event = maximize
}

windowrule {
    # Fix some dragging issues with XWayland
    name = fix-xwayland-drags
    match:class = ^$
    match:title = ^$
    match:xwayland = true
    match:float = true
    match:fullscreen = false
    match:pin = false

    no_focus = true
}

# Hyprland-run windowrule
windowrule {
    name = move-hyprland-run

    match:class = hyprland-run

    move = 20 monitor_h-120
    float = yes
}

# Popups windowrule
# Popups windowrule
windowrule {
    name = waypaper-float
    match:class = ^(waypaper)$
    # Atau jika ingin spesifik title: match:title = ^(waypaper)$

    float = yes
    size = 800 600
    center = yes
}

# --- Workspace 1: Coding ---
windowrule = workspace 1, match:class ^(code-oss|vscode|code)$

# --- Workspace 2: Utilities ---
windowrule = workspace 2, match:class ^(kitty|foot|alacritty)$
windowrule = workspace 2, match:class ^(org.kde.dolphin|thunar|nemo)$

# --- Workspace 3: Browsing ---
windowrule = workspace 3, match:class ^(zen|firefox|google-chrome|Brave-browser|Arc-browser)$

# --- Workspace 4: Research & Writing ---
windowrule = workspace 4, match:class ^(libreoffice.*|onlyoffice|wps|Zotero)$
windowrule = tile on, match:class ^(libreoffice.*|onlyoffice)$

# -- Spesific rules for WPS Office -- #
windowrule = tile on, match:class ^(wps)$, match:title ^(Document.*|.*Writer|.*Spreadsheets|.*Presentation).*

# --- Float for dialog windows ---
windowrule = float on, match:class ^(wps)$, match:title ^(wps)$

# --- Size and center for large windows ---
windowrulev2 = center 1, class:^(wps)$, title:^(wps)$, width:>500
windowrulev2 = size 900 600, class:^(wps)$, title:^(wps)$, width:>500

# -- Spesific rules for Zotero -- #
# windowrule = workspace 4, match:class ^(zotero)$
windowrule = float on, match:class ^(Zotero|zotero)$
windowrule = size 1100 750, match:class ^(Zotero|zotero)$
windowrule = center on, match:class ^(Zotero|zotero)$

# --- Orange Data Mining (Final Fix) ---
# 1. Pindahkan semua ke Workspace 4
windowrule = workspace 4, match:class ^(si.biolab.python3)$

windowrule = float on, match:class ^(si.biolab.python3)$
windowrule = size 1000 700, match:class ^(si.biolab.python3)$
windowrule = center on, match:class ^(si.biolab.python3)$

windowrule = tile on, match:class ^(si.biolab.python3)$, match:title ^(.*Untitled.*Orange|.*\.ows.*Orange)$

# --- Workspace 5: Session Management ---
windowrule = workspace 5, match:class ^(blueman-manager|org.gnome.Settings|nm-connection-editor|io.missioncenter.MissionCenter|kcm_.*|org.quickshell)$
windowrule = float on, match:class ^(blueman-manager|org.gnome.Settings|nm-connection-editor|io.missioncenter.MissionCenter|kcm_.*|org.quickshell)$
windowrule = size 1000 700, match:class ^(blueman-manager|org.gnome.Settings|nm-connection-editor|io.missioncenter.MissionCenter|kcm_.*|org.quickshell)$
windowrule = center on, match:class ^(blueman-manager|org.gnome.Settings|nm-connection-editor|io.missioncenter.MissionCenter|kcm_.*|org.quickshell)$

# --- Workspace 6: Communication ---
windowrule = workspace 6, match:class ^(discord|Slack|telegram-desktop|signal)$
windowrule = float on, match:class ^(discord|Slack|telegram-desktop|signal)$
windowrule = size 1000 700, match:class ^(discord|Slack|telegram-desktop|signal)$
windowrule = center on, match:class ^(discord|Slack|telegram-desktop|signal)$

# --- Workspace 7: Game Development ---
windowrulev2 = workspace 7, class:^(unityhub)$
windowrulev2 = workspace 7, class:^(Unity)$

# Handle floating for the Hub and Editor windows
windowrulev2 = float, class:^(unityhub)$
windowrulev2 = float, class:^(Unity)$
windowrulev2 = setfloating, title:^(UnityEditor.*)$

# Center the Hub and Editor windows with size
windowrulev2 = size 1000 700, class:^(unityhub)$
windowrulev2 = center, class:^(unityhub)$

# --- Workspace 9: Media ---
windowrule = workspace 9 silent, match:class ^(spotify)$

# --- Workspace 10: Fixed Monitor ---
workspace = 10, monitor:eDP-1, default:true

# --- Illogical Impulse Settings ---
windowrule = float on, match:class ^(org.quickshell)$, match:title ^(illogical-impulse Settings)$
windowrule = size 1000 700, match:class ^(org.quickshell)$, match:title ^(illogical-impulse Settings)$
windowrule = center on, match:class ^(org.quickshell)$, match:title ^(illogical-impulse Settings)$